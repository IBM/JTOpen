package com.ibm.as400.access;

import java.text.SimpleDateFormat;


// This class is merely an input template to an autogenerated source class
// See use of maven-replacer-plugin in the project manifests
public class BuildInfo {
    static String s_compileDateTime = "@timestamp@ (GMT)";
    static String s_jtopenVersion = "@jtopenversion@";
    static boolean s_isDevelopmentBuild = !Boolean.valueOf("@prod.build@");

    public static boolean isDevelopmentBuild() {
        return s_isDevelopmentBuild;
    }
    public static String getVersion() {
        String devBuildSuffix = isDevelopmentBuild() ? " (development build)" : "";
        String v = s_jtopenVersion;
        if (v.startsWith("@")) {
            return "<unknown>"+devBuildSuffix;
        }
        return v.trim().replaceFirst("^v", "")+devBuildSuffix;
    }

    public static String getTimestampString() {
        String ts = s_compileDateTime;
        if (ts.startsWith("@")) {
            return "<unknown>";
        }
        return ts.trim();
    }

    public static String getTimestampYear() {
        try {
            SimpleDateFormat fmt = new SimpleDateFormat("yyyy-MM-dd HH:mm:ss");
            return ""+ fmt.parse("@timestamp@").getYear();
         } catch(Exception e) {
            return "<unknown>";
        }
    }
}